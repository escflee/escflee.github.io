
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>关系模型 - escflee的博客</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="escflee的博客" class="md-header__button md-logo" aria-label="escflee的博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            escflee的博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              关系模型
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="escflee的博客" class="md-nav__button md-logo" aria-label="escflee的博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    escflee的博客
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          课程笔记
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="课程笔记" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          课程笔记
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1_1" type="checkbox" id="__nav_1_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_1">
          算法设计与分析
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="算法设计与分析" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_1">
          <span class="md-nav__icon md-icon"></span>
          算法设计与分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/%E4%B8%BB%E5%AE%9A%E7%90%86/" class="md-nav__link">
        主定理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1_2" type="checkbox" id="__nav_1_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2">
          操作系统
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="操作系统" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          操作系统
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" class="md-nav__link">
        进程管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" class="md-nav__link">
        内存管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/" class="md-nav__link">
        文件管理
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1_3" type="checkbox" id="__nav_1_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_3">
          编译原理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="编译原理" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          编译原理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/" class="md-nav__link">
        词法分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90/" class="md-nav__link">
        语法分析
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_4">
          数据库
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="数据库" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SQL/" class="md-nav__link">
        SQL
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          关系模型
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        关系模型
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    表
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    码
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    元组
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    模式图
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          编程语言
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="编程语言" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          编程语言
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          C
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="C" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          C
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/C%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        C基础
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          C++
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="C++" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        C++基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        面向对象程序设计
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          算法题
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="算法题" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          算法题
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          典型算法
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="典型算法" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          典型算法
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E9%A2%98/%E5%85%B8%E5%9E%8B%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F/" class="md-nav__link">
        排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%AE%97%E6%B3%95%E9%A2%98/%E5%85%B8%E5%9E%8B%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        搜索
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    表
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    码
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    元组
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    模式图
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="_1">概念<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">表<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><img alt="image-20221102154546022" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221102154546022.png" /></p>
<p>关系数据库由表(table)的集合组成。</p>
<ul>
<li>单个表可以表示某种关系(relation)</li>
<li>表的每一行代表n个值之间的一个联系，用n元组(n-tuple)表示</li>
<li>表的每一列代表某个属性(attribute)</li>
</ul>
<h2 id="_3">码<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ul>
<li>超码(superkey)</li>
<li>候选码(candidate key)</li>
<li>主码(primary key)</li>
<li>外码(foreign key)，参照关系(referencing relation)，被参照关系(referenced relation)</li>
</ul>
<h2 id="_4">元组<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<ul>
<li>笛卡尔积</li>
</ul>
<h2 id="_5">模式图<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p><img alt="image-20221102154834293" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221102154834293.png" /></p>
<ul>
<li>每个关系用矩形表示，上方为关系的名字，下方列出各个属性。</li>
<li>主码下方用横线标注。</li>
<li>外码依赖用从参照关系的外码属性指向被参照关系的主码属性的箭头表示。</li>
</ul>
<h1 id="_6">关系代数<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h1>
<h2 id="_7">基本运算<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<ul>
<li><span class="arithmatex">\(\text{select}:\sigma\)</span></li>
</ul>
<p><span class="arithmatex">\(\sigma_{p_1 \and p_2 \and \dots \and p_n}(r)\)</span>：选择<span class="arithmatex">\(r\)</span>中满足<span class="arithmatex">\(p_1,p_2,\dots,p_n\)</span>的元组。</p>
<ul>
<li><span class="arithmatex">\(\text{project}:\Pi\)</span></li>
</ul>
<p><span class="arithmatex">\(\Pi_{A_1,A_2,A_3,\dots,A_n}(r)\)</span>：将表的这些属性对应的列提取出来，不包括没有提到的属性。</p>
<ul>
<li>
<p><span class="arithmatex">\(\text{union}:\cup\)</span></p>
</li>
<li>
<p><span class="arithmatex">\(\text{set}\ \text{difference}:-\)</span></p>
</li>
<li>
<p><span class="arithmatex">\(\text{Cartesian product}:X\)</span></p>
</li>
<li>
<p><span class="arithmatex">\(\text{rename}:\rho\)</span></p>
</li>
</ul>
<p><span class="arithmatex">\(\rho_x(E)\)</span>：返回表达式E的结果，并把名字x赋给它。</p>
<p><span class="arithmatex">\(\rho_{x(A_1,A_2,\dots,A_n)}(E)\)</span>：返回表达式E的结果，并把名字x赋给它，并将各属性更名为<span class="arithmatex">\(A_1,A_2,\dots,A_n\)</span></p>
<p>标准的select-from-where语句用关系代数的形式进行表示：</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">A1</span><span class="p">,</span><span class="n">A2</span><span class="p">,...</span><span class="n">An</span><span class="w"></span>
<span class="k">from</span><span class="w"> </span><span class="n">r1</span><span class="p">,</span><span class="n">r2</span><span class="p">,...,</span><span class="n">rn</span><span class="w"></span>
<span class="k">where</span><span class="w"> </span><span class="n">p</span><span class="w"></span>
</code></pre></div>
<div class="arithmatex">\[
\Pi_{A_1,A_2,\dots,A_n}(\sigma_p(r_1\operatorname{x}r_2\operatorname{x}\dots\operatorname{x}r_n))
\]</div>
<h2 id="_8">附加运算<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<ul>
<li><span class="arithmatex">\(\text{intersection}:\cap\)</span></li>
<li><span class="arithmatex">\(\text{natural join}:\Join\)</span></li>
<li><span class="arithmatex">\(\text{assignment}:\leftarrow\)</span></li>
<li>除运算 ppt6.1.3.3</li>
</ul>
<h1 id="e-r">E-R图<a class="headerlink" href="#e-r" title="Permanent link">&para;</a></h1>
<h2 id="_9">主要构件<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<ul>
<li>分成两部分的矩形代表实体集，上半部分为实体集的名字，下半部分为属性，主键用下划线标记。</li>
<li>菱形代表联系集，用实线与实体集相连。</li>
<li>未分割的矩形代表联系集的属性，用虚线与联系集相连。</li>
<li>双菱形表示连接到弱实体集的标志性联系集</li>
</ul>
<h2 id="_10">映射基数<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>mapping cardinality</p>
<ul>
<li>一对一、一对多、多对多：“一”的一方用箭头表示，如下图表示一位教师辅导多名学生：</li>
</ul>
<p><img alt="image-20221103212705505" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221103212705505.png" /></p>
<ul>
<li>双线表示该实体集的对象全部参与联系，如下图表示每名学生必须有一位老师指导：</li>
</ul>
<p><img alt="image-20221103212952607" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221103212952607.png" /></p>
<ul>
<li>除以上两种方式外，也可以直接标注数量范围：</li>
</ul>
<p><img alt="image-20221103213101957" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221103213101957.png" /></p>
<h2 id="_11">弱实体集<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<ul>
<li>弱实体集的分辨符以虚下划线标注</li>
<li>关联弱实体集和标识性强实体集的联系集用双菱形表示</li>
</ul>
<p><img alt="image-20221103213832179" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221103213832179.png" /></p>
<h1 id="_12">范式<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h1>
<h2 id="_13">函数依赖<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<p>函数依赖(functional dependency)：对于关系模式<span class="arithmatex">\(r(R)\)</span>，<span class="arithmatex">\(\alpha \subseteq R\)</span>，<span class="arithmatex">\(\beta \subseteq R\)</span>，如果<span class="arithmatex">\(r(R)\)</span>的每个合法实例都满足实例中的所有元组对<span class="arithmatex">\(t_1,t_2\)</span>，若<span class="arithmatex">\(t_1[\alpha]=t_2[\alpha]\)</span>，则<span class="arithmatex">\(t_1[\beta]=t_2[\beta]\)</span>，则具有函数依赖<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>。</p>
<ul>
<li>
<p>平凡(trival)函数依赖：即无论如何都成立的函数依赖，即若<span class="arithmatex">\(\beta \subseteq \alpha\)</span>，则有<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>。</p>
</li>
<li>
<p>完全函数依赖，部分函数依赖</p>
</li>
<li>
<p>Armstrong公理：用于由已有的函数依赖依赖推导出新的函数依赖关系，包括：</p>
</li>
<li>
<p>自反律：若<span class="arithmatex">\(\beta \subseteq \alpha\)</span>，则<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>成立</p>
</li>
<li>增补律：若<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>，则有<span class="arithmatex">\(\gamma \alpha \rightarrow \gamma \beta\)</span></li>
<li>传递律：若<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>和<span class="arithmatex">\(\beta \rightarrow \gamma\)</span>成立，则<span class="arithmatex">\(\alpha \rightarrow \gamma\)</span>成立</li>
</ul>
<p>还有以下三条可以由Armstrong公理推导出的规则：</p>
<ul>
<li>合并律：若<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>和<span class="arithmatex">\(\alpha \rightarrow \gamma\)</span>成立，则<span class="arithmatex">\(\alpha \rightarrow \beta \gamma\)</span>成立</li>
<li>分解律：若<span class="arithmatex">\(\alpha \rightarrow \beta \gamma\)</span>成立，则<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>和<span class="arithmatex">\(\alpha \rightarrow \gamma\)</span>成立</li>
<li>
<p>伪分解律：若<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>和<span class="arithmatex">\(\gamma \beta \rightarrow \delta\)</span>成立，则<span class="arithmatex">\(\alpha \gamma \rightarrow \delta\)</span>成立</p>
</li>
<li>
<p>函数依赖集<span class="arithmatex">\(F\)</span>的闭包<span class="arithmatex">\(F^+\)</span></p>
</li>
<li>
<p>属性集<span class="arithmatex">\(\alpha\)</span>的闭包<span class="arithmatex">\(\alpha ^+\)</span>：不断将可以由函数依赖推导出的属性添加到<span class="arithmatex">\(\alpha\)</span>，直到<span class="arithmatex">\(\alpha\)</span>中不能再添加新的属性。</p>
</li>
<li>
<p>候选码的求法：</p>
</li>
<li>
<p>只出现在函数依赖左边的属性、不出现在任何函数依赖的属性属于候选码。</p>
</li>
<li>只出现在函数依赖右边的属性不在任何候选码中。</li>
<li>根据上面的规则得到一个必定属于候选码的属性集，如果这个属性集已经是超码，那么这就是唯一的候选码，否则视情况继续添加属性。</li>
</ul>
<h2 id="_14">正则覆盖<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>无关属性(extraneous attribute)：对于函数依赖集<span class="arithmatex">\(F\)</span>和<span class="arithmatex">\(F\)</span>中的函数依赖<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>，</p>
</li>
<li>
<p>如果 <span class="arithmatex">\(A \in \alpha\)</span> 并且 <span class="arithmatex">\(F\)</span> 逻辑蕴含 <span class="arithmatex">\((F-\{\alpha \rightarrow \beta\}) \cup\{(\alpha-A) \rightarrow \beta\}\)</span>, 则属性 <span class="arithmatex">\(A\)</span> 在 <span class="arithmatex">\(\alpha\)</span> 中是无关的。</p>
<p>即：去除<span class="arithmatex">\(A\)</span>相当于给原来的函数依赖集添加了<span class="arithmatex">\((\alpha - A) \rightarrow \alpha\)</span>，如果原来的函数依赖集本来就能推出<span class="arithmatex">\((\alpha - A) \rightarrow \alpha\)</span>，则可以去除<span class="arithmatex">\(A\)</span>。</p>
</li>
<li>
<p>如果 <span class="arithmatex">\(A \in \beta\)</span> 并且函数依赖集 <span class="arithmatex">\((F-\{\alpha \rightarrow \beta\}) \cup\{\alpha \rightarrow(\beta-A)\}\)</span> 逻辑蕴含 <span class="arithmatex">\(F\)</span>, 则属性 <span class="arithmatex">\(A\)</span> 在 <span class="arithmatex">\(\beta\)</span> 中是 无关的。</p>
<p>即：去除<span class="arithmatex">\(A\)</span>相当于去除了函数依赖<span class="arithmatex">\(\alpha \rightarrow A\)</span>，如果去除之后的函数依赖集还是可以推出<span class="arithmatex">\(\alpha \rightarrow A\)</span>，则可以去除<span class="arithmatex">\(A\)</span>。</p>
</li>
<li>
<p>正则覆盖(canonical cover)：去除所有无关属性，且所有函数依赖的左半部分都是唯一的。</p>
</li>
<li>
<p>正则覆盖<span class="arithmatex">\(F_c\)</span>的求法：不断重复合并函数依赖左半部分相同的式子、去除无关属性的步骤，直到函数依赖集不再改变。（所得到的正则覆盖不是唯一的。）</p>
</li>
</ul>
<p><img alt="image-20221119090010022" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221119090010022.png" /></p>
<h2 id="_15">分解<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<p>解决数据冗余和操作异常等问题的唯一方法就是将关系模式分解为更小、更规范的关系模式。</p>
<ul>
<li>无损分解(lossless decomposition)：分解不损失任何信息，即分解后得到的模式自然连接后可以得到原模式。与之相对的分解就是有损分解(lossy decomposition)。</li>
</ul>
<p>对于一分为二的分解，如将<span class="arithmatex">\(R\)</span>分解为<span class="arithmatex">\(R_1,R_2\)</span>，如果以下函数依赖至少有一个属于<span class="arithmatex">\(F^+\)</span>，则分解是无损的：</p>
<ul>
<li><span class="arithmatex">\(R_1 \cap R_2 \rightarrow R_1\)</span></li>
<li><span class="arithmatex">\(R_1 \cap R_2 \rightarrow R_2\)</span></li>
</ul>
<p>即<span class="arithmatex">\(R_1 \cap R_2\)</span>是<span class="arithmatex">\(R_1\)</span>或<span class="arithmatex">\(R_2\)</span>的超码。</p>
<ul>
<li>函数依赖保持(dependency preservation)：分解后原来的所有函数依赖都仍然存在，即<span class="arithmatex">\((F_1 \cup F_2 \cup \dots \cup F_n)^+=F^+\)</span>。这么要求的目的是检查函数依赖时无需横跨多个关系模式，进行多个关系模式的自然连接操作。</li>
</ul>
<p>函数依赖保持的判定：对<span class="arithmatex">\(F\)</span>中的每个函数依赖<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>，执行：</p>
<p><img alt="image-20221119125428537" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221119125428537.png" /></p>
<p>其中闭包运算是在<span class="arithmatex">\(F\)</span>下的。如果<span class="arithmatex">\(result\)</span>包含<span class="arithmatex">\(\beta\)</span>的所有属性，则<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>保持。如果每条函数依赖都保持，则这个分解是函数依赖保持的。</p>
<p>这个算法通过计算两次交集避免了计算<span class="arithmatex">\(F_1,F_2,\dots,F_n\)</span>，</p>
<h2 id="_16">第一范式<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<p>1NF：关系模式中所有属性的域都是原子的(atomic)，即不可再分的。</p>
<h2 id="_17">第二范式<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<p>2NF：在1NF的基础上，消除非主属性对候选键的部分函数依赖。即：若候选键为<span class="arithmatex">\(AB\)</span>，则对于任何非主属性<span class="arithmatex">\(C\)</span>，应该只存在形如<span class="arithmatex">\(AB \rightarrow C\)</span>的函数依赖，不存在<span class="arithmatex">\(A \rightarrow C\)</span>或<span class="arithmatex">\(B \rightarrow C\)</span>。</p>
<h2 id="_18">第三范式<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<p>3NF：在2NF的基础上，消除非主属性对键的传递函数依赖。</p>
<ul>
<li>
<p>定义：函数依赖集<span class="arithmatex">\(F\)</span>中任意函数依赖<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>需要满足以下三个条件之一，则<span class="arithmatex">\(F\)</span>是第三范式：</p>
</li>
<li>
<p><span class="arithmatex">\(\alpha \rightarrow \beta\)</span>是平凡函数依赖</p>
</li>
<li><span class="arithmatex">\(\alpha\)</span>是<span class="arithmatex">\(R\)</span>的一个超码</li>
<li>
<p><span class="arithmatex">\(\beta - \alpha\)</span>中的每个属性<span class="arithmatex">\(A\)</span>都包含在<span class="arithmatex">\(R\)</span>的一个候选码中</p>
</li>
<li>
<p>分解为3NF的算法，可以做到无损、函数依赖保持：</p>
</li>
</ul>
<p><img alt="image-20221119095736138" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221119095736138.png" /></p>
<h2 id="bcnf">BCNF范式<a class="headerlink" href="#bcnf" title="Permanent link">&para;</a></h2>
<p>前面三个范式没有对主属性作出任何限制，BCNF(Boyce-Codd Normal Form)在3NF的基础上，消除了主属性对键的部分和传递函数依赖。</p>
<ul>
<li>
<p>定义：函数依赖集<span class="arithmatex">\(F\)</span>中任意函数依赖<span class="arithmatex">\(\alpha \rightarrow \beta\)</span>需要满足以下两个条件之一，则<span class="arithmatex">\(F\)</span>是BCNF：</p>
</li>
<li>
<p><span class="arithmatex">\(\alpha \rightarrow \beta\)</span>是平凡函数依赖</p>
</li>
<li>
<p><span class="arithmatex">\(\alpha\)</span>是<span class="arithmatex">\(R\)</span>的一个超码</p>
</li>
<li>
<p>分解为BCNF的算法，只能做到无损，不保证函数依赖保持：</p>
</li>
</ul>
<p><img alt="image-20221119095043983" src="../media/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B/image-20221119095043983.png" /></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../SQL/" class="md-footer__link md-footer__link--prev" aria-label="上一页: SQL" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              SQL
            </div>
          </div>
        </a>
      
      
        
        <a href="../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/C%E5%9F%BA%E7%A1%80/" class="md-footer__link md-footer__link--next" aria-label="下一页: C基础" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              C基础
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.expand", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>